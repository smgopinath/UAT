CREATE TABLE `t_mf_finsire_asset_fetch` (
  `mf_finsire_asset_fetch_id` bigint NOT NULL AUTO_INCREMENT,
  `partner_finsire_id` varchar(45) DEFAULT NULL,
  `customer_id` bigint DEFAULT NULL,
  `mf_data_fetched_at` datetime(6) DEFAULT NULL,
  `mf_data_fetched_by` bigint DEFAULT NULL,
  `created_by` varchar(45) DEFAULT NULL COMMENT 'Audit Columns used for traceability',
  `created_date` datetime DEFAULT NULL COMMENT 'Audit Columns used for traceability',
  `modified_by` varchar(45) DEFAULT NULL COMMENT 'Audit Columns used for traceability',
  `modified_date` datetime DEFAULT NULL COMMENT 'Audit Columns used for traceability',
  `active` bit(1) DEFAULT NULL,
  `investment_amount` double DEFAULT NULL,
  `current_market_value` double DEFAULT NULL,
  PRIMARY KEY (`mf_finsire_asset_fetch_id`),
  KEY `fk_mfcustomer_id` (`customer_id`),
  KEY `fk_mf_data_fetched_by` (`mf_data_fetched_by`),
  CONSTRAINT `t_mf_finsire_asset_fetch_ibfk_1` FOREIGN KEY (`customer_id`) REFERENCES `t_customer` (`id`),
  CONSTRAINT `t_mf_finsire_asset_fetch_ibfk_2` FOREIGN KEY (`mf_data_fetched_by`) REFERENCES `t_lob_master` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=11 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

CREATE TABLE `t_mf_finsire_asset_fetch_data` (
  `mf_finsire_asset_fetch_data_id` bigint NOT NULL AUTO_INCREMENT,
  `customer_id` bigint DEFAULT NULL,
  `email` varchar(30) DEFAULT NULL,
  `asset_user_id` varchar(50) DEFAULT NULL,
  `asset_detail_id` varchar(50) DEFAULT NULL,
  `partner_finsire_id` varchar(45) DEFAULT NULL,
  `unit_price` double DEFAULT NULL,
  `last_traded_value` double DEFAULT NULL,
  `available_units` double DEFAULT NULL,
  `total_price` double DEFAULT NULL,
  `age` int DEFAULT NULL,
  `amc` varchar(50) DEFAULT NULL,
  `amc_name` varchar(50) DEFAULT NULL,
  `nav` double DEFAULT NULL,
  `bank_city` varchar(50) DEFAULT NULL,
  `bank_ifsc` varchar(15) DEFAULT NULL,
  `bank_micr` varchar(50) DEFAULT NULL,
  `bank_name` varchar(255) DEFAULT NULL,
  `bank_branch` varchar(50) DEFAULT NULL,
  `bank_pincode` varchar(50) DEFAULT NULL,
  `bank_neftifsc` varchar(50) DEFAULT NULL,
  `bank_account_no` varchar(50) DEFAULT NULL,
  `bank_account_type` varchar(50) DEFAULT NULL,
  `isin` varchar(45) DEFAULT NULL,
  `folio_number` varchar(45) DEFAULT NULL,
  `is_demat` varchar(1) DEFAULT NULL,
  `nav_date` varchar(45) DEFAULT NULL,
  `rta_name` varchar(10) DEFAULT NULL,
  `gainloss` varchar(10) DEFAULT NULL,
  `gainloss_perc` varchar(10) DEFAULT NULL,
  `isnew_folio` varchar(1) DEFAULT NULL,
  `plan_mode` varchar(5) DEFAULT NULL,
  `asset_type` varchar(50) DEFAULT NULL,
  `cost_value` double DEFAULT NULL,
  `tax_status` varchar(25) DEFAULT NULL,
  `broker_code` varchar(25) DEFAULT NULL,
  `broker_name` varchar(100) DEFAULT NULL,
  `decimal_nav` double DEFAULT NULL,
  `decimal_units` double DEFAULT NULL,
  `decimal_amount` double DEFAULT NULL,
  `investor_name` varchar(255) DEFAULT NULL,
  `lien_units_flag` varchar(1) DEFAULT NULL,
  `scheme_code` varchar(100) DEFAULT NULL,
  `scheme_name` varchar(100) DEFAULT NULL,
  `scheme_type` varchar(100) DEFAULT NULL,
  `scheme_option` varchar(100) DEFAULT NULL,
  `isnominee_available` varchar(1) DEFAULT NULL,
  `available_amount` double DEFAULT NULL,
  `closing_balance` double DEFAULT NULL,
  `current_market_value` double DEFAULT NULL,
  `transaction_source` varchar(10) DEFAULT NULL,
  `active` bit(1) DEFAULT NULL,
  `created_date` datetime(6) DEFAULT NULL,
  `created_by` varchar(45) DEFAULT NULL,
  `updated_date` datetime(6) DEFAULT NULL,
  `updated_by` varchar(45) DEFAULT NULL,
  `asset_fetch_id` bigint DEFAULT NULL,
  PRIMARY KEY (`mf_finsire_asset_fetch_data_id`),
  KEY `fk_customer_id_asset_fetch_data` (`customer_id`),
  KEY `fk_t_mf_finsire_afd` (`asset_fetch_id`),
  CONSTRAINT `fk_customer_id_asset_fetch_data` FOREIGN KEY (`customer_id`) REFERENCES `t_customer` (`id`),
  CONSTRAINT `t_mf_finsire_asset_fetch_data_ibfk_1` FOREIGN KEY (`asset_fetch_id`) REFERENCES `t_mf_finsire_asset_fetch` (`mf_finsire_asset_fetch_id`)
) ENGINE=InnoDB AUTO_INCREMENT=10 DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;
